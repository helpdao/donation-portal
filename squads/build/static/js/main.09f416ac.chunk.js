(this.webpackJsonpsquads=this.webpackJsonpsquads||[]).push([[5],{192:function(e,t,a){},193:function(e,t,a){e.exports=a.p+"static/media/help_dao_wheel.7d957dcb.svg"},198:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),o=a.n(l),c=(a(93),a(53)),i=a(25),s=a(76),m=a.n(s),u=a(2),d=a.n(u),h=a(8),v=a(4),f=a(7),E=a(5),g=a(6),p=a(18),b=a(20),w=a(227),k=a(225),x=a(28),N=a.n(x),y="http://ec2-3-19-74-56.us-east-2.compute.amazonaws.com:3001/squad";function S(e){return new Promise((function(t,a){N.a.get("".concat(y,"/").concat(e),{"Access-Control-Allow-Origin":"*"}).then((function(e){t(e)})).catch((function(e){return a(e)}))}))}function O(e){return new Promise((function(t,a){console.log("MANDAMOS:"),console.log(e),N.a.post("".concat(y,"/new"),e,{"Access-Control-Allow-Origin":"*"}).then((function(e){t(e)})).catch((function(e){return a(e)}))}))}var q=a(41),C=a.n(q),L=(Object(k.a)({fieldStyles:{padding:"20px"}}),RegExp(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?(t\.me\/|chat\.whatsapp\.com)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/,"i")),j=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).validateAll=function(){n.validateName().then((function(e){return n.checkName()})).then((function(e){return n.valideInviteLink()})).then((function(e){return n.validateDescription()})).then((function(e){return n.sendData()})).catch((function(e){return console.log(e)}))},n.state={name:"",inviteLink:"",description:"",nameError:"",descriptionError:"",inviteLinkError:"",requestError:"",open:!1},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n}return Object(f.a)(a,[{key:"mdTutorial",value:function(){return"# What is MD?\n**Markdown** was initially created by *John Gruber*\nas a simple way for non-programming types to write in an easy-to-read format that could be converted directly into HTML.\n#### You can learn how to use it [here](https://www.markdowntutorial.com/)"}},{key:"handleChange",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"checkName",value:function(){var e=this;return new Promise((function(t,a){var n;(n={name:e.state.name},new Promise((function(e,t){N.a.post("".concat(y,"/find"),n,{"Access-Control-Allow-Origin":"*"}).then((function(t){e(t)})).catch((function(e){return t(e)}))}))).then((function(n){if(console.log("Valid Name?"),console.log(n),0===n.data.squads.length)Promise.resolve(e.setState({nameError:""})).then((function(){return t()}));else{var r="This name is in use, you need to choose a different Squad Name";Promise.resolve(e.setState({nameError:r})).then((function(){return a(r)}))}})).catch((function(t){var n="Somenthing goes wrong. Try it again in a while";Promise.resolve(e.setState({requestError:n})).then((function(){return a(n)}))}))}))}},{key:"valideInviteLink",value:function(){var e=this;return new Promise((function(t,a){if(0===e.state.inviteLink.length){var n="You need to provide an invitation link.";Promise.resolve(e.setState({inviteLinkError:n})).then((function(){return a(n)}))}else if(L.test(e.state.inviteLink))Promise.resolve(e.setState({inviteLinkError:""})).then((function(){return t()}));else{var r="You need to provide a valid invitation link.";Promise.resolve(e.setState({inviteLinkError:r})).then((function(){return a(r)}))}}))}},{key:"validateName",value:function(){var e=this;return new Promise((function(t,a){if(0===e.state.name.length){var n="You need to provide Squad name";Promise.resolve(e.setState({nameError:n})).then((function(){return a(n)}))}else Promise.resolve(e.setState({nameError:""})).then((function(){return t()}))}))}},{key:"validateDescription",value:function(){var e=this;return new Promise((function(t,a){if(0===e.state.description.length){var n="You need to provided a description";Promise.resolve(e.setState({descriptionError:n})).then((function(){return a(n)}))}else Promise.resolve(e.setState({descriptionError:""})).then((function(){return t()}))}))}},{key:"sendData",value:function(){this.props.parentCallback(this.state)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,0===this.state.nameError.length?"":r.a.createElement(w.a,{severity:"error"}," ",this.state.nameError," \u2014 check it out!"),0===this.state.inviteLinkError.length?"":r.a.createElement(w.a,{severity:"error"},this.state.inviteLinkError," \u2014 check it out!"),0===this.state.descriptionError.length?"":r.a.createElement(w.a,{severity:"error"},this.state.descriptionError," \u2014 check it out!"),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"zilla",for:"squadName"},"Squad Name"),r.a.createElement("input",{name:"name",type:"text",class:"form-control",id:"squadName","aria-describedby":"squadNameHelp",onChange:function(t){e.handleChange(t)}}),r.a.createElement("small",{id:"squadNameHelp",class:"form-text text-muted"},"Remember that the name must be uniqe.")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"zilla",for:"inviteLink"},"Invite Link"),r.a.createElement("input",{type:"text",class:"form-control",id:"inviteLink","aria-describedby":"inviteLinkHelp",name:"inviteLink",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("small",{id:"inviteLinkHelp",class:"form-text text-muted"},"Add the group link.")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"zilla",for:"descriptionHelp"},"Tell somenthing about your squad, you can use ",r.a.createElement("a",{class:"red",href:"https://www.markdowntutorial.com/",target:"_blank"},"MarkDown!")),r.a.createElement("textarea",{rows:"20",class:"form-control",id:"descriptionHelp",name:"description",onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{type:"button",class:"btn btn-lg hdaoBtnContrast","data-toggle":"modal","data-target":"#exampleModalScrollable"},"Preview MD")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("button",{onClick:this.validateAll,class:"btn hdaoBtn btn-lg"},"Next")))),r.a.createElement("div",{class:"modal fade",id:"exampleModalScrollable",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalScrollableTitle","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-scrollable",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-body"},r.a.createElement(C.a,{source:0===this.state.description.length?this.mdTutorial():this.state.description})),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn hdaoBtnContrast","data-dismiss":"modal"},"Close"))))))}}]),a}(r.a.Component),P=a(57),D=(a(192),function(){var e=Object(P.b)();return r.a.createElement("div",null,e.connected?function(){if(null!==e.account)return document.location.href="#init-squad",localStorage.setItem("walletConected",!0),r.a.createElement(w.a,{severity:"success"},"Account connected!")}():null!==e.activating?r.a.createElement("div",{class:"spinner-border red",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading...")):r.a.createElement("button",{onClick:function(){e.activate("fortmatic")},className:"btn hdaoBtnOutline btn-lg"},"Connect"))}),A=function(){return r.a.createElement(P.a,{chainId:1,connectors:{fortmatic:{apiKey:"pk_live_C11CB41780801641"}}},r.a.createElement(D,null))},H=a(80),R=a.n(H),I=(a(193),function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"top",class:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("div",{class:"d-flex flex-grow-1"},r.a.createElement("span",{class:"w-100 d-lg-none d-block"}),r.a.createElement("a",{class:"navbar-brand d-none d-lg-inline-block",href:"#"},r.a.createElement("img",{src:R.a,className:"img-fluid d-inline-block align-top",alt:""})),r.a.createElement("a",{class:"navbar-brand-two mx-auto d-lg-none d-inline-block",href:"#"},r.a.createElement("h4",{className:"red"},r.a.createElement("b",null,"HELPDAO"))),r.a.createElement("div",{class:"w-100 text-right"},r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#myNavbar"},r.a.createElement("span",{class:"navbar-toggler-icon"})))),r.a.createElement("div",{class:"collapse navbar-collapse flex-grow-1 text-right",id:"myNavbar"},r.a.createElement("ul",{class:"navbar-nav ml-auto flex-nowrap"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link hdaoLink m-2 menu-link dmSans bold",href:"/"},"Home ",r.a.createElement("span",{class:"sr-only"},"(current)"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link hdaoLink m-2 menu-link dmSans bold",href:"/new"},"Launch a Help Squad")),r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link hdaoLink m-2 menu-link dmSans bold",href:"https://helpdao.org/",target:"_blank"},"What is HelpDAO")))))}}]),a}(r.a.Component)),B=(r.a.Component,function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(e){return Object(v.a)(this,a),t.call(this,e)}return Object(f.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I,null),this.props.children)}}]),a}(r.a.Component)),T=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).getFormData=function(e){Promise.resolve(e).then((function(e){n.setState({body:e}),n.setState({formValid:!0}),n.setState({daoInfoError:""}),document.location.href="#register-dao"}))},n.submitSquad=Object(h.a)(d.a.mark((function e(){var t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.isWalletRegistered();case 3:if(t=e.sent,!n.state.formValid||!t){e.next=12;break}return a={name:n.state.body.name,description:n.state.body.description,inviteLink:n.state.body.inviteLink,daoAddress:"0x931D387731bBbC988B312206c74F77D004D6B84b"},e.next=8,O(a);case 8:200===(r=e.sent).status&&(document.location.href="/squad/".concat(r.data.newSquad._id)),e.next=13;break;case 12:n.state.formValid?Promise.resolve(n.setState({walletRegisterError:"You need to login into your wallet."})).then((function(){return document.location.href="#register-dao"})):Promise.resolve(n.setState({daoInfoError:"Seems that something is missing."})).then((function(){return document.location.href="#top"}));case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),"Somenthing goes wrong. Try it again in a while",Promise.resolve(n.setState({requestError:"Somenthing goes wrong. Try it again in a while"})).then((function(){return document.location.href="#dao-info"}));case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),n.state={disabled:!1,body:null,formValid:!1,daoInfoError:"",walletRegisterError:"",requestError:""},n}return Object(f.a)(a,[{key:"isWalletRegistered",value:function(){return new Promise(function(){var e=Object(h.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("walletConected");case 2:n=e.sent,t(null!==n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},{key:"render",value:function(){return r.a.createElement(B,null,r.a.createElement("div",{id:"dao-info",className:"container mt-5"},r.a.createElement("section",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-lg-8 mx-auto text-center"},r.a.createElement("h3",{className:"mt-3"},r.a.createElement("span",{role:"img","aria-label":"Rescue Worker\u2019s Helmet"},"\u26d1 "),"Launch a New Squad",r.a.createElement("span",{role:"img","aria-label":"Rescue Worker\u2019s Helmet"}," \u26d1")),0===this.state.daoInfoError.length?"":r.a.createElement("div",{className:"alert alert-danger mt-3"}," ",this.state.daoInfoError," \u2014 check it out!"),0===this.state.requestError.length?"":r.a.createElement("div",{className:"alert alert-danger mt-3"}," ",this.state.requestError," \u2014 check it out!"))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-xs-12 col-lg-8 mx-auto"},r.a.createElement(j,{parentCallback:this.getFormData})))),r.a.createElement("section",{id:"register-dao",class:"fullScreenSection"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-lg-8 mx-auto text-center"},0===this.state.walletRegisterError.length?"":r.a.createElement("div",{className:"alert alert-danger"}," ",this.state.walletRegisterError," \u2014 check it out!"),r.a.createElement("h3",{className:"mt-3"}," It's time to connect your wallet:"))),r.a.createElement(A,null)),r.a.createElement("section",{id:"init-squad",className:"fullScreenSection"},r.a.createElement("h3",null," ",r.a.createElement("span",{role:"img","aria-label":"Launching Rocket"},"\ud83d\ude80")," TakeOff ",r.a.createElement("span",{role:"img","aria-label":"Launching Rocket"},"\ud83d\ude80")),r.a.createElement("button",{id:"launchSquadButton",className:"btn hdaoBtnOutline btn-lg mt-3",onClick:this.submitSquad},"Launch Squad"))))}}]),a}(r.a.Component),_=a(10),M=function(e){var t=e.match.params.squadId,a=Object(n.useState)({}),l=Object(_.a)(a,2),o=l[0],c=l[1];return Object(n.useEffect)((function(){function e(){return(e=Object(h.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(t);case 3:a=e.sent,console.log("Result Squad Details: "),console.log(a),a.data&&a.data.squad&&c(a.data.squad),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement(B,null,r.a.createElement("div",{className:"container my-5"},r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-xs-12 col-lg-8 mx-auto text-center"},r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Rescue Worker\u2019s Helmet"},"\u26d1"),o.name," Help Squad",r.a.createElement("span",{role:"img","aria-label":"Rescue Worker\u2019s Helmet"},"\u26d1")))),r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-xs-12 col-lg-8 mx-auto text-left"},r.a.createElement(C.a,{source:o.description}))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-xs-12 col-lg-8 mx-auto text-center"},r.a.createElement("h5",null,"Total Donated: 000$"),r.a.createElement("h5",null,"Remaining: 000$"))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-xs-12 col-lg-8 mx-auto text-center"},r.a.createElement("button",{className:"btn hdaoBtn btn-lg"},"DONATE")))))},W=a(56),z=function(e){var t=Object(n.useState)([]),a=Object(_.a)(t,2),l=a[0],o=a[1],c=function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e,t){N.a.get("".concat(y,"/all"),{"Access-Control-Allow-Origin":"*"}).then((function(t){e(t)})).catch((function(e){return t(e)}))}));case 3:(t=e.sent).data.squads.length>0&&o(t.data.squads),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("SquadList.js line 17"),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),r.a.createElement("div",{class:""},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-lg-8 mx-auto text-center"},r.a.createElement("h2",{className:"mt-5 blue"},r.a.createElement("b",null,"OUR HELP SQUADS:")))),l.length>0?l.map((function(e){return r.a.createElement("div",{key:e._id,className:"col-xs-12 col-lg-3 mx-auto"},r.a.createElement("div",{className:"row p-2"},r.a.createElement("a",{href:"/squad/"+e._id,className:"col-12"},r.a.createElement("button",{class:" col-12 btn btn-lg hdaoBtn","data-toggle":"tooltip","data-placement":"right",title:e.verified?"This squad is verified by HelpDAO":"This squad is not verified by HelpDAO"},e.name,r.a.createElement("span",{className:"text-white badge"},!0===e.verified?r.a.createElement("h5",null,r.a.createElement(W.b,null)):r.a.createElement("h5",null,r.a.createElement(W.a,null)))))))})):r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-xs-12 col-lg-8 mx-auto alert alert-danger text-center"},"Something goes wrong. Reload the page or try it again in a while.")),r.a.createElement("div",{className:"col-xs-12 col-lg-3 mx-auto"},r.a.createElement("div",{className:"row p-2"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("p",{className:"blue"},"..."),r.a.createElement("h5",{className:"blue"},"More help on the way!")))))},Y=(a(194),a(195),a(43)),V=a.n(Y);a(196),a(198);V()((function(){V()('[data-toggle="tooltip"]').tooltip()}));var $=function(){return r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(B,null,r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-7 col-lg-7 text-center mx-auto"},r.a.createElement("img",{className:"img-fluid",src:m.a,alt:"help_dao_logo"}))),r.a.createElement("div",{className:"mt-3"},r.a.createElement(z,null))))),r.a.createElement(i.a,{exact:!0,path:"/new"},r.a.createElement(T,null)),r.a.createElement(i.a,{exact:!0,path:"/new/register"},r.a.createElement(A,null)),r.a.createElement(i.a,{path:"/squad/:squadId",component:M})))};Boolean("0.0.0.0"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports=a.p+"static/media/help_dao.3f626245.svg"},80:function(e,t,a){e.exports=a.p+"static/media/help_dao_min.85497afa.svg"},88:function(e,t,a){e.exports=a(200)},93:function(e,t,a){}},[[88,6,7]]]);
//# sourceMappingURL=main.09f416ac.chunk.js.map